---
import BaseLayout from "../layouts/base_layout.astro";
import WebProjectCard from "../components/web_project_card.astro";
import Icon from "../components/icons.astro";
import allProjects from "../data/projects.json";

allProjects.sort((a, b) => {
  if (a.pinned && !b.pinned) {
    return -1;
  } else if (!a.pinned && b.pinned) {
    return 1;
  } else {
    return a.title.localeCompare(b.title);
  }
});
---

<BaseLayout>
  <section id="title" class="container">
    <h1 class="small primary">
      <a href="/"><Icon type="back" weight="heavy" /> Maciej Musielik</a>
    </h1>
    <h2 class="large">Projects</h2>

    <div class="big-grid">
      {
        allProjects.map((project) => {
          return (
            <WebProjectCard
              title={project.title}
              summary={project.summary}
              thumbnailUrl={project.thumbnailUrl}
              pinned={project.pinned}
              web={project.web}
              href={project.href}
            />
          );
        })
      }
    </div>
  </section>
</BaseLayout>

<style>
  h1.small {
    font-size: 24pt;
    font-weight: 600;
  }

  h2.large {
    font-size: 48pt;
    font-weight: 700;
  }

  @media only screen and (min-width: 1280px) {
    .big-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }
</style>
